<!DOCTYPE html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><title>Admin - SMASH & CHIPS</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',sans-serif;background:#f5f5f5;padding:20px}.login{max-width:400px;margin:50px auto;background:white;padding:30px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.1)}.admin{max-width:1200px;margin:0 auto;background:white;padding:30px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.1)}h1{color:#ff6b35;margin-bottom:30px}h2{color:#333;margin:20px 0 10px 0}.form-group{margin-bottom:15px}label{display:block;margin-bottom:5px;color:#333;font-weight:bold}input,select{width:100%;padding:10px;border:1px solid #ddd;border-radius:5px;font-size:14px}button{background:#ff6b35;color:white;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-weight:bold}button:hover{background:#f7931e}.logout{background:#dc3545;margin-left:auto}.header{display:flex;justify-content:space-between;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid #ff6b35}.upload{background:#f9f9f9;padding:20px;border-radius:5px;margin-bottom:30px}.item{background:#f9f9f9;padding:15px;margin-bottom:15px;border-radius:5px;border-left:4px solid #ff6b35}.preview{width:100px;height:100px;background:#eee;border-radius:5px;display:flex;align-items:center;justify-content:center;font-size:40px}.msg{padding:15px;margin-bottom:20px;border-radius:5px;display:none}.success{background:#d4edda;color:#155724;display:block}.error{background:#f8d7da;color:#721c24;display:block}.hidden{display:none}</style></head><body><div id=login class=login><h1>Admin Login</h1><input type=password id=pwd placeholder="Password"><button onclick="login()">Login</button><div id=lmsg class=msg></div></div><div id=admin class=admin hidden><div class=header><h1>Admin</h1><button class=logout onclick="logout()">Logout</button></div><div id=msg class=msg></div><div class=upload><h2>Upload Image</h2><select id=select><option>Select product...</option></select><input type=file id=img accept="image/*"><button onclick="upload()">Upload</button></div><div id=products></div></div><script>const PASS='admin';let logged=false;let products=[];function login(){if(document.getElementById('pwd').value===PASS){logged=true;localStorage.setItem('logged','yes');document.getElementById('login').classList.add('hidden');document.getElementById('admin').classList.remove('hidden');load();}else{document.getElementById('lmsg').className='msg error';document.getElementById('lmsg').textContent='Wrong password';}}function logout(){logged=false;localStorage.removeItem('logged');document.getElementById('pwd').value='';document.getElementById('login').classList.remove('hidden');document.getElementById('admin').classList.add('hidden');}function load(){fetch('products.json').then(r=>r.json()).then(d=>{products=d;populate();show();}).catch(e=>{console.log(e);document.getElementById('msg').className='msg error';document.getElementById('msg').textContent='Error loading.'});}function populate(){const s=document.getElementById('select');products.forEach((p,i)=>{const o=document.createElement('option');o.value=i;o.textContent=p.name;s.appendChild(o);});}function upload(){const f=document.getElementById('img').files[0];const idx=document.getElementById('select').value;const m=document.getElementById('msg');if(!f||!idx){m.className='msg error';m.textContent='Select product and image';return;}const r=new FileReader();r.onload=(e)=>{const imgs=JSON.parse(localStorage.getItem('imgs')||'{}');imgs[idx]=e.target.result;localStorage.setItem('imgs',JSON.stringify(imgs));m.className='msg success';m.textContent='Uploaded!';document.getElementById('img').value='';show();};r.readAsDataURL(f);}function show(){const imgs=JSON.parse(localStorage.getItem('imgs')||'{}');const c=document.getElementById('products');c.innerHTML='<h2>Products</h2>';products.forEach((p,i)=>{const d=document.createElement('div');d.className='item';const img=imgs[i];d.innerHTML=`<div style="display:flex;gap:15px"><div class=preview>${img?'<img style="width:100%;height:100%;object-fit:cover" src="'+img+'">':'ðŸ“·'}</div><div><strong>${p.name}</strong><br>${p.category}-${p.price}</div>${img?'<button onclick="del('+i+')">Delete</button>':''}</div>`;c.appendChild(d);});}function del(i){const imgs=JSON.parse(localStorage.getItem('imgs')||'{}');delete imgs[i];localStorage.setItem('imgs',JSON.stringify(imgs));show();}window.addEventListener('load',()=>{if(localStorage.getItem('logged')==='yes'){login();}});</script></body></html>
